---
layout: post
title: "Git以及tortoiseGit的使用指南"
date: 2024-03-30 12:00:34 -0700
categories: git
---
> 本文档原作者：Zhuofan Sun 
>
> 感谢他为本课程文档做出的贡献！🎉

# Git
## Git的概念
Git 是一个版本控制系统，它帮助你追踪文件的变化。无论是编写代码、写作文档还是设计图，Git 都能记录文件的每一次修改，以便你可以随时回溯到以前的版本。

使用 Git 可以让团队协作更容易，因为每个人都可以在自己的分支上工作，而不会干扰他人的工作。而且，如果出现问题，你可以轻松地回退到以前的版本。

> ✏️Git与Github，Gitee是什么关系
> 
> Git 是一个版本控制系统，而 GitHub 是一个基于 Git 的代码托管平台。
> Git 用于追踪文件变化并协作开发项目，而 GitHub 则提供了远程仓库的托管服务，使得团队可以在互联网上存储、分享和协作开发代码。

## Git的下载和安装
### 下载
可在此处下载[Git (git-scm.com)](https://git-scm.com/)
![](assets/git-tutorial/e6b9a6ab465478c502923668e214301b.png)

> 事实上，此处下载的Git和事实上的Git并不完全一致，我们下载的事实上是Git for windows。这是一个名为 Git for Windows 的项目（也叫做 msysGit），和 Git 是分别独立的项目。但是在初学阶段，我们不需要过于纠结两者的区别，只需要知道Gitscm能提供给我们一个Git的官方环境即可。
### 安装（以安装版为例）
太多配置项了，需要特殊注意的我标出来，其他的一律Next就行

![](assets/git-tutorial/8a3801309cf9b51b3f73b729e007d4fd.png)
![](assets/git-tutorial/17dd0e665ff9eae5887432dcfcee52bb.png)
![](assets/git-tutorial/aa1c5afe15ae1a4e48569e1ccbd77bc8.png)
![](assets/git-tutorial/ffe2615b58d0925ce6eb2f3ba24e0ccf.png)
剩下的一路Next

## Git的简单使用
### 本地仓库和远程仓库
在 Git 中，仓库（Repository）是存储项目文件及其历史记录的地方。而仓库分为本地仓库和远程仓库两种类型。

- **本地仓库（Local Repository）**：本地仓库是存储在你自己的计算机上的仓库。你可以在本地仓库中进行修改和保存代码，并提交（Commit）文件的变更记录。
- **远程仓库（Remote Repository）**：远程仓库则是存储在互联网上的其他地方的服务器中的仓库，著名的网站比如 GitHub、GitLab 或 国内的gitee 等。远程仓库是与团队共享代码的地方，你可以将本地仓库中的文件更改 *推送（Push）* 到远程仓库，或从远程仓库中 *拉取（Pull）* 最新的更改到本地仓库。
### Git邮箱&用户名和远程仓库的关系
**在 Git 中设置用户邮箱和用户名的作用是为了标识提交者的身份信息。** 当你提交代码或者执行其他 Git 操作时，Git 会记录你的用户名和邮箱，以便其他人可以识别出是谁进行了这些操作。
以 GitHub 为例，当你使用 Git 推送提交到远程仓库时，GitHub 会根据提交中记录的邮箱来识别你的 GitHub 账户。如果你在本地使用 Git 配置了与 GitHub 账户相同的邮箱，那么 GitHub 就能够正确地将你的提交关联到你的 GitHub 账户，并显示在你的贡献图表、提交历史等位置。
也就是说Git邮箱&用户名可以和远程仓库（github，gitee）的关联邮箱一样，也可以不一样，**但是为了远程仓库能够正确的识别你的提交，你应当将这两者的邮箱设置为一样的**。
### 提交，推送与拉取
提交（Commit）、拉取（Pull）和推送（Push）是 Git 中常用的操作：

- **提交（Commit）**：当你在本地仓库中对文件进行修改后，你可以通过提交操作来*保存这些修改*的记录。每次提交都会创建一个新的版本，并记录了你对文件所做的变更。
- **拉取（Pull）**：拉取是从远程仓库获取最新版本的操作。当其他人在远程仓库中做了更改，并推送到了远程仓库后，你可以通过拉取操作将这些更改同步到你的本地仓库中，以保持代码的最新状态。
- **推送（Push）**：推送是将你的本地仓库中的更改上传到远程仓库的操作。当你完成了一些工作，并希望与团队共享你的更改时，你可以通过推送操作将这些更改上传到远程仓库中。

### 简短的例子

> 我们先用Git命令来完成这个例子

假设你有一个本地仓库和一个远程仓库，本地仓库存储在你的电脑中，远程仓库存储在 GitHub 上。
你在本地仓库中对一个文件进行了修改，然后进行了提交。然后，你想要将这些更改推送到远程仓库中，以便团队其他成员也能看到你的修改。

首先设置用户邮箱和用户名
```bash
git config --global user.email "your_email@example.com"
git config --global user.name "Your Name"
```
然后
1. **拉取最新更改**：在写代码之前，你可以使用 `git pull` 命令拉取远程仓库中的最新更改到本地仓库中，以避免冲突。
2. **修改文件**：在本地仓库中对文件进行修改。
3. **提交更改**：使用 `git add` 命令将修改的文件添加到暂存区，然后使用 `git commit` 命令提交这些更改到本地仓库中。
4. **推送更改**：最后，使用 `git push` 命令将你的本地仓库中的更改推送到远程仓库中。

这样，你的更改就会被上传到远程仓库中，团队其他成员也可以通过拉取操作获取你的最新更改。

# Gitee的使用
## Gitee
Gitee（码云）是中国的一个类似于 GitHub 的代码托管平台，提供 Git 仓库的管理和协作开发服务。
其官方网站为: [Gitee - 基于 Git 的代码托管和研发协作平台](https://gitee.com/)
## 注册并设置你的关联邮箱
首先，先在[Gitee](https://gitee.com/)上创建一个属于你的账号并登录。
然后进入到gitee的用户设置界面，设置你的远程仓库的提交邮箱
![](assets/git-tutorial/62baee548cfc31af833599f6b6f80459.png)
> 笔者记得在注册账号的时候应该有让你填写邮箱。如果没有可以在这个地方设置
## 创建你的远程仓库

新建一个私有仓库作为你的远程GIt仓库
![](assets/git-tutorial/60317deee25c671aa6ebe844aaf372cc.png)

设置远程仓库的相关参数
![](assets/git-tutorial/1e162f6b86bffe4ea6085ac830e14c6f.png)

> ✏️GIt的分支
> 
> 上文中我们提到了分支这个名词。分支是Git中管理版本的一种方法。
> Git 的分支可以视为一个开发项目的不同版本。
> 通过创建分支，我们可以在不影响主要代码的情况下进行实验、添加新功能或修复 bug。你可以在不同的分支之间切换，或者将两个分支合并在一起。
> 通常，我们会在master分支 *（在github中现在称之为main分支）* 放置我们的正式代码，在dev分支放置我们开发中的代码。
> 在这里，我们为了学习方便，先使用单分支模型（即只创建master分支）

这样，我们的远程仓库就创建好了，复制好远程仓库地址，我们准备创建本地仓库。
![](assets/git-tutorial/9f7e7c1b4aa4b1514c5c0c19743d4c41.png)

# TorToiseGit
TortoiseGit 是一个集成于 Windows 系统的 Git 客户端软件，它提供了图形化界面来简化 Git 的使用。通过TorToiseGit，用户可以直接在资源管理器的右键菜单中执行 Git 操作，而无需打开额外的命令行界面。这使得 Git 在 Windows 平台上更加友好和易用。
## TorToiseGit的下载和安装
### 下载
TorToiseGit的官网下载地址为[Download – TortoiseGit – Windows Shell Interface to Git](https://tortoisegit.org/download/)
![](assets/git-tutorial/825a9d62aec1799896927d52cb34227e.png)
> 记得软件本体和语言包都要下载
### 安装
1. 先安装软件本体, 
![](assets/git-tutorial/ba9398012f88836a15d6388bef14ef4b.png)
![](assets/git-tutorial/597bae3cffaeb7836a89a4c348660cc7.png)
![](assets/git-tutorial/415f2a619e79485ac853f4b43ef47897.png)
![](assets/git-tutorial/8facd01b8d71c81229680f9cdfb33338.png)
2. 再安装中文语言包
![](assets/git-tutorial/48b8c0beece66078a2149c2ba3879098.png)
这里可以勾选自动配置软件使用这个语言包
![](assets/git-tutorial/30ecad926d68a5070704d498fa81ac79.png)
## Tortoise的配置
在软件列表中找到Tortoise的设置
![](assets/git-tutorial/5a2af797cb6d3f61fb68e67dd2fd9a19.png)
### 配置语言和git程序本体的路径
![](assets/git-tutorial/06a8f4b57dcdf440afdad1a22e7afbb3.png)

> ✏️ 可能出现的问题
> 
> ![](assets/git-tutorial/ed5d29ac3ec40a51107465d7177f7958.png)
> 如果你出现了上图显示的问题，说明你在“Git的下载与安装”这一步出现了问题。
> 要么是没有安装，要么是电脑出现了问题，请先尝试重启电脑或者注销账号再登录。如果都不行，请寻求帮助。
### 配置Git邮箱&用户名和右键菜单
打开Tortoise的设置程序
配置你的Git邮箱和用户名，记得保持和你在远程仓库上关联的邮箱一致
![](assets/git-tutorial/94fd916d2f7b1f627fb1b85dcb133d93.png)
点击确定保存，此处软件可能会提示需要重启电脑才能完成。

> 如果没有条件进行重启，你可以尝试使用注销后重新登录的办法代替重启。

配置一下右键菜单，方便使用
![](assets/git-tutorial/0da2238cb90c8bc8ec066f2b1ae0fc29.png)
### 创建本地仓库
进入你的工作文件夹（空的或者已经写了代码的文件夹都可以）
在空白处右键，点击“Git 在这里创建版本库”
![](assets/git-tutorial/3dc85fdb4d6dd1d0115da6b62a3ebcd9.png)
点击确定
![](assets/git-tutorial/532c09774542eb25b69ab4b29c8e1e4b.png)
我们就创建好了一个本地的Git仓库
这个时候我们能看到，在文件夹中出现了一个“.git”文件夹
这个文件夹存储着本地仓库的一些配置文件，我们后续会讲到
### 将工作文件夹内的内容提交
在将我们的本地仓库推送到远程仓库之前，我们先要保证我们的本地仓库的内容是最新的。
我们右键工作文件夹内空白处，选择Git提交
![](assets/git-tutorial/887d211640b36f236ba3b2a698761105.png)
将我们的代码提交到本地仓库
![](assets/git-tutorial/3df96a729e3ec5b0aa2859f67df2e5a4.png)
看到这个成功就代表我们的更改已经提交到本地仓库了
![](assets/git-tutorial/ee5d59679a4df37c93d5905515f1d679.png)
### 推送到远程仓库
现在我们把本地仓库推送到我们在Gitee上建的远程仓库中
同样右键呼出菜单，选择Git推送
![](assets/git-tutorial/484785b25b0ad4e192840a53ba1603f1.png)
点击管理添加我们的远程仓库
![](assets/git-tutorial/e0e49a49d9174a4c0bf573abfe609eb2.png)
![](assets/git-tutorial/3fdeb07aca816ace11757928703b598a.png)
ok，不出意外的话，应该会弹出一个窗口问你要账号密码
这里的账号密码指的是远程仓库（Gitee，github）的账号密码
不要输错了
![](assets/git-tutorial/8f37646f4037cd3007fbdb9597dca41c.png)
等待推送成功后，我们就可以去网页上看我们的提交了
![](assets/git-tutorial/8b1efabedb215cd62b8b59b87486240c.png)
![](assets/git-tutorial/7c3880085c9fb113de2ef5ce20f3bc8c.png)

### 🚀恭喜，你已经完成了一个推送的工作流
后续，只要代码有修改，只需要重复提交->推送的流程即可将代码推送到远程仓库。

## 克隆和拉取
当我们在另一台电脑上要继续开发活动时，就需要用到克隆功能和拉取功能。他可以让我们将远程仓库复制到本地，或者将远程仓库的改动拉取到本地（远程读档）。
### 克隆
同样的，选择空白处右键选择克隆
![](assets/git-tutorial/6d449ce8c975a4282dbfaa82db90d4c8.png)
![](assets/git-tutorial/c980b16191d03d19d1ee7fac40528e0b.png)
等待克隆完成，工作文件夹就会出现
![](assets/git-tutorial/e884b92d3643fa2f1cf63187856a8c16.png)
### 拉取
假设在A电脑对仓库有改动，在B电脑进入工作文件夹，右键空白处，点击拉取即可同步更改。
![](assets/git-tutorial/f5d9b0cb52d601f51190e53d12a6b08c.png)
![](assets/git-tutorial/46f3a18d97fffa1f5a284eff1d258e6f.png)
观察到代码拉取即是成功了
![](assets/git-tutorial/240e073783ebd31885959c7757d83fa4.png)

# Q&A

> ❓**创建仓库时出现的纯版本库是什么？**
> 
> 💬 纯版本库（bare repository）是指一个不包含工作目录的 Git 仓库。它仅包含 Git 的版本控制数据和历史记录，没有实际的文件副本。纯版本库通常用于共享和协作开发，而不是用于直接在本地工作。

> ❓ **如果旧电脑还没提交，新电脑就提交了，旧电脑再提交会怎么样？**
> 
> 💬 会产生冲突，Git会展示两者的差异并要求你手动处理代码中冲突的部分

> ❓ **我是否可以理解为，提交就是存档，推送就是云存档，拉取就是读档？**
> 
> 💬 可以

> ❓ **我无法访问文章中的网站/下载文章中提到的软件！！！**
> 
> 💬 你需要使用科学/魔法连接国际互联网，请咨询你的同学。

> ❓ **我使用的是MacOS怎么办？**
> 
> 💬 也许GitHub Desktop是个不错的主意

> ❓ **我用的是linux怎么办！！！！**
> 
> 💬 你都用linux了！！！

# 附录：

## Git的分支，签出与合并
在 Git 中，分支是指项目代码的一个独立开发路径，可以在其上进行开发、实验或修复问题，而不会影响主要代码。通过创建分支，可以在不同的开发环境中同时进行工作，使得团队协作更加灵活高效。

**签出（Checkout）** 是指在 Git 中切换到不同的分支或版本的操作。当你需要切换到其他分支时，可以使用 `git checkout` 命令，并指定要切换到的分支名称。

**合并（Merge）** 是将两个分支的代码合并在一起的操作。当你在一个分支上完成了开发工作，并希望将这些更改合并到另一个分支时，可以使用 `git merge` 命令。

分支、签出和合并是 Git 中常用的操作，它们使得团队能够同时进行不同的开发工作，并将结果合并到主要代码中。
## 托管平台的一些术语
1. **Pull Request (PR)**:
   PR 是指向项目仓库提交代码变更的请求，通常用于将新功能、修复或其他代码更改合并到主分支中。当团队成员在自己的分支上完成了一些工作后，他们可以创建一个 PR 来*请求项目维护者审核和合并他们的更改*。
2. **Issues**:
   Issues 是*用于跟踪项目中的任务、错误或其他工作项*的功能。团队成员可以创建问题来报告 bug、提出功能请求、讨论问题等。
3. **里程碑 (Milestones)**:
   里程碑是项目中的一个重要的时间节点或目标，通常代表一个阶段性的里程碑。你可以为项目设置里程碑，将相关的 Issues 分配到对应的里程碑中，以便跟踪项目的进度和完成情况。
4. **发行版 (Releases)**:
   发行版是项目的一个特定版本，代表了项目在某个时间点上的稳定状态。当项目达到一个重要的里程碑或者完成了一系列功能后，团队可以创建一个发行版来发布这个版本的代码。发行版通常包含了一个特定版本的代码、更新日志和其他相关信息，方便用户了解和下载最新版本的软件或代码。
## CI/CD
CI/CD 是一种软件开发流程，就像是工厂中的流水线一样。它的目标是让软件开发过程更快、更可靠。

1. **持续集成（CI）**：就像是工厂的质检员，它会自动检查你写的代码，确保代码没有问题。每当你提交新的代码时，CI 会自动运行一些测试，看看你的代码是否符合要求，是否有 bug。

2. **持续交付/持续部署（CD）**：想象一下，如果你的代码通过了质检，就会自动送到下一个车间，进行组装和包装，最终准备好发布。持续交付意味着一旦你的代码通过了测试，它就会自动构建成可用的软件，但不会立即发布。而持续部署则意味着代码通过测试后会自动部署到生产环境中，让用户可以使用。

**GitHub Actions**和**Gitee的流水线**就是CI/CD的一种实现。你只需要告诉它当发生什么事件时该做什么事情。比如每次提交代码、创建一个 Pull Request 或者发布一个发行版时自动执行你定义的流程。
